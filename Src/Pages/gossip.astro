---
import Layout from '../layouts/Layout.astro';
const allPosts = await Astro.glob('../content/posts/*.md');
const gossipPosts = allPosts.filter(post => post.frontmatter.category.toLowerCase() === 'gossip');
---
<Layout title="Gossip">
  <section style="width:100%;max-width:1200px;margin:0 auto;">
    <h1 style="color:var(--orange);font-size:2rem;margin-bottom:.8rem;">Gossip Central</h1>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:2rem;">
      {gossipPosts.map(post => (
        <a href={`/posts/${post.frontmatter.slug}`} style="text-decoration:none;">
          <div style="background:var(--white);border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);overflow:hidden;border:1px solid var(--grey);transition:.2s;">
            <img src={post.frontmatter.image} alt={post.frontmatter.title} style="width:100%;height:210px;object-fit:cover;" />
            <div style="padding:1.1rem;">
              <span style="color:var(--orange);font-size:.88rem;font-weight:600;">{post.frontmatter.category}</span>
              <h3 style="font-size:1.1rem;color:var(--black);margin-top:.5rem;">{post.frontmatter.title}</h3>
              <p style="color:var(--grey);margin:.6rem 0 1rem 0;font-size:.97rem;">{post.frontmatter.description}</p>
              <span style="font-size:.9rem;color:var(--grey);">{post.frontmatter.author} â€¢ {new Date(post.frontmatter.pubDate).toLocaleDateString()}</span>
            </div>
          </div>
        </a>
      ))}
    </div>
  </section>
</Layout>
